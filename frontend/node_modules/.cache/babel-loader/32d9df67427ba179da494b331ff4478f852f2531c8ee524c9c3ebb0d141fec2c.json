{"ast":null,"code":"var _jsxFileName = \"/Users/jaewonchung/Codes/webDB/FinalProject/e-commerce/frontend/src/contexts/cart.context.jsx\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext({\n  isCartOpen: false,\n  setIsCartOpen: () => {},\n  cartItems: [],\n  setCartItems: () => {},\n  addItemToCart: () => {},\n  removeItemFromCart: () => {},\n  clearItemFromCart: () => {},\n  cartCount: 0,\n  cartTotal: 0\n});\nconst addCartItem = (cartItems, productToAdd) => {\n  let isNew = true;\n  const newCartItems = cartItems.map(cartItem => {\n    if (cartItem.id === productToAdd.id) {\n      isNew = false;\n      return {\n        ...cartItem,\n        quantity: cartItem.quantity + 1\n      };\n    } else return cartItem;\n  });\n  if (isNew) newCartItems.push({\n    ...productToAdd,\n    quantity: 1\n  });\n  return newCartItems;\n};\nconst removeCartItem = (cartItems, cartItemToRemove) => {\n  const newCartItems = cartItems.filter(cartItem => {\n    if (cartItem.id === cartItemToRemove.id) {\n      cartItemToRemove.quantity--;\n      cartItem.quantity = cartItemToRemove.quantity;\n    }\n    return cartItem.quantity > 0;\n  });\n  return newCartItems;\n};\nexport const CartProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const [cartItems, setCartItems] = useState([]);\n  const [cartCount, setCartCount] = useState(0);\n  const [cartTotal, setCartTotal] = useState(0);\n  useEffect(() => {\n    var count = 0;\n    var cartTotal = 0;\n    cartItems.map(item => {\n      const {\n        quantity,\n        price\n      } = item;\n      count += quantity;\n      cartTotal += quantity * price;\n    });\n    setCartCount(count);\n    setCartTotal(cartTotal);\n  }, [cartItems]);\n  const addItemToCart = productToAdd => {\n    setCartItems(addCartItem(cartItems, productToAdd));\n  };\n  const removeItemFromCart = cartItemToRemove => {\n    setCartItems(removeCartItem(cartItems, cartItemToRemove));\n  };\n  const clearItemFromCart = cartItemToClear => {\n    setCartItems(removeCartItem(cartItems, {\n      ...cartItemToClear,\n      quantity: 1\n    }));\n  };\n  const value = {\n    isCartOpen,\n    setIsCartOpen,\n    cartItems,\n    setCartItems,\n    addItemToCart,\n    removeItemFromCart,\n    clearItemFromCart,\n    cartCount,\n    cartTotal\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 10\n  }, this);\n};\n_s(CartProvider, \"fk5gOybW+Q9quhyf2uQ+wLkZ9nA=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","CartContext","isCartOpen","setIsCartOpen","cartItems","setCartItems","addItemToCart","removeItemFromCart","clearItemFromCart","cartCount","cartTotal","addCartItem","productToAdd","isNew","newCartItems","map","cartItem","id","quantity","push","removeCartItem","cartItemToRemove","filter","CartProvider","children","setCartCount","setCartTotal","count","item","price","cartItemToClear","value"],"sources":["/Users/jaewonchung/Codes/webDB/FinalProject/e-commerce/frontend/src/contexts/cart.context.jsx"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\n\nexport const CartContext = createContext({\n  isCartOpen: false,\n  setIsCartOpen: () => {},\n  cartItems: [],\n  setCartItems: () => {},\n  addItemToCart: () => {},\n  removeItemFromCart: () => {},\n  clearItemFromCart: () => {},\n  cartCount: 0,\n  cartTotal: 0,\n});\n\nconst addCartItem = (cartItems, productToAdd) => {\n  let isNew = true;\n  const newCartItems = cartItems.map((cartItem) => {\n    if (cartItem.id === productToAdd.id) {\n      isNew = false;\n      return { ...cartItem, quantity: cartItem.quantity + 1 };\n    } else return cartItem;\n  });\n  if (isNew) newCartItems.push({ ...productToAdd, quantity: 1 });\n  return newCartItems;\n};\n\nconst removeCartItem = (cartItems, cartItemToRemove) => {\n  const newCartItems = cartItems.filter((cartItem) => {\n    if (cartItem.id === cartItemToRemove.id) {\n      cartItemToRemove.quantity--;\n      cartItem.quantity = cartItemToRemove.quantity;\n    }\n    return cartItem.quantity > 0;\n  });\n  return newCartItems;\n};\n\nexport const CartProvider = ({ children }) => {\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const [cartItems, setCartItems] = useState([]);\n  const [cartCount, setCartCount] = useState(0);\n  const [cartTotal, setCartTotal] = useState(0);\n\n  useEffect(() => {\n    var count = 0;\n    var cartTotal = 0;\n    cartItems.map((item) => {\n      const { quantity, price } = item;\n      count += quantity;\n      cartTotal += quantity * price;\n    });\n    setCartCount(count);\n    setCartTotal(cartTotal);\n  }, [cartItems]);\n\n  const addItemToCart = (productToAdd) => {\n    setCartItems(addCartItem(cartItems, productToAdd));\n  };\n\n  const removeItemFromCart = (cartItemToRemove) => {\n    setCartItems(removeCartItem(cartItems, cartItemToRemove));\n  };\n\n  const clearItemFromCart = (cartItemToClear) => {\n    setCartItems(\n      removeCartItem(cartItems, { ...cartItemToClear, quantity: 1 })\n    );\n  };\n\n  const value = {\n    isCartOpen,\n    setIsCartOpen,\n    cartItems,\n    setCartItems,\n    addItemToCart,\n    removeItemFromCart,\n    clearItemFromCart,\n    cartCount,\n    cartTotal,\n  };\n\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}